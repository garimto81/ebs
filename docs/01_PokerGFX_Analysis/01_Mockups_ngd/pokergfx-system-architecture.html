<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PokerGFX 시스템 아키텍처</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #0a0e1a;
            color: #e0e0e0;
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
            padding: 40px 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 960px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 48px;
        }

        h1 {
            font-size: 32px;
            font-weight: 600;
            color: #ffffff;
            margin-bottom: 12px;
        }

        .subtitle {
            font-size: 16px;
            color: #a0a0a0;
            font-weight: 400;
        }

        .architecture {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            margin-bottom: 40px;
        }

        .binary-box {
            background: #151a2d;
            border-radius: 12px;
            padding: 24px;
            border: 2px solid;
            position: relative;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .binary-box:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
        }

        .binary-box.large {
            grid-column: 1 / -1;
        }

        .binary-box.server {
            border-color: #5ba3e6;
        }

        .binary-box.tracker {
            border-color: #f0a040;
        }

        .binary-box.common {
            border-color: #50e080;
        }

        .binary-box.updater {
            border-color: #a070e0;
        }

        .binary-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
            padding-bottom: 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .binary-title {
            font-size: 20px;
            font-weight: 600;
            color: #ffffff;
        }

        .file-count {
            font-size: 14px;
            font-weight: 600;
            padding: 4px 12px;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.1);
        }

        .binary-box.server .file-count {
            background: rgba(91, 163, 230, 0.2);
            color: #5ba3e6;
        }

        .binary-box.tracker .file-count {
            background: rgba(240, 160, 64, 0.2);
            color: #f0a040;
        }

        .binary-box.common .file-count {
            background: rgba(80, 224, 128, 0.2);
            color: #50e080;
        }

        .binary-box.updater .file-count {
            background: rgba(160, 112, 224, 0.2);
            color: #a070e0;
        }

        .project-name {
            font-size: 14px;
            color: #a0a0a0;
            margin-bottom: 16px;
            font-style: italic;
        }

        .key-files {
            margin-bottom: 16px;
        }

        .key-files h3 {
            font-size: 14px;
            font-weight: 600;
            color: #ffffff;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .file-item {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            padding: 6px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .file-item:last-child {
            border-bottom: none;
        }

        .file-name {
            font-size: 13px;
            color: #e0e0e0;
            font-family: 'Consolas', 'Courier New', monospace;
        }

        .file-desc {
            font-size: 12px;
            color: #808080;
            margin-left: 8px;
        }

        .file-loc {
            font-size: 12px;
            font-weight: 600;
            color: #5ba3e6;
            font-family: 'Consolas', 'Courier New', monospace;
        }

        .namespaces {
            margin-bottom: 16px;
        }

        .namespaces h3 {
            font-size: 14px;
            font-weight: 600;
            color: #ffffff;
            margin-bottom: 8px;
        }

        .namespace-list {
            font-size: 12px;
            color: #a0a0a0;
            line-height: 1.8;
            font-family: 'Consolas', 'Courier New', monospace;
        }

        .obfuscation {
            display: inline-block;
            font-size: 11px;
            font-weight: 600;
            padding: 4px 8px;
            border-radius: 4px;
            background: rgba(255, 59, 48, 0.2);
            color: #ff3b30;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .obfuscation.clean {
            background: rgba(80, 224, 128, 0.2);
            color: #50e080;
        }

        .role {
            font-size: 13px;
            color: #a0a0a0;
            margin-bottom: 12px;
            padding-left: 12px;
            border-left: 3px solid rgba(255, 255, 255, 0.2);
        }

        .connections {
            margin: 40px 0;
            padding: 24px;
            background: #151a2d;
            border-radius: 12px;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .connections h2 {
            font-size: 18px;
            font-weight: 600;
            color: #ffffff;
            margin-bottom: 16px;
            text-align: center;
        }

        .connection-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        .connection-item {
            display: flex;
            align-items: center;
            padding: 12px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 8px;
            font-size: 13px;
        }

        .arrow {
            margin: 0 8px;
            color: #5ba3e6;
            font-weight: bold;
        }

        .connection-desc {
            color: #a0a0a0;
            font-size: 12px;
        }

        .summary {
            background: linear-gradient(135deg, #1a2a4a 0%, #0f1828 100%);
            padding: 24px;
            border-radius: 12px;
            border: 2px solid rgba(91, 163, 230, 0.3);
        }

        .summary h2 {
            font-size: 18px;
            font-weight: 600;
            color: #ffffff;
            margin-bottom: 16px;
            text-align: center;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 28px;
            font-weight: 700;
            color: #5ba3e6;
            margin-bottom: 4px;
        }

        .stat-label {
            font-size: 12px;
            color: #a0a0a0;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .framework {
            font-size: 12px;
            color: #808080;
            margin-top: 8px;
            font-style: italic;
        }

        @media (max-width: 768px) {
            .architecture {
                grid-template-columns: 1fr;
            }

            .connection-grid {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>PokerGFX 시스템 아키텍처</h1>
            <p class="subtitle">4개 바이너리, 2,877개 C# 파일 - ILSpy decompile 기반 분석</p>
        </header>

        <div class="architecture">
            <!-- Server Binary -->
            <div class="binary-box large server">
                <div class="binary-header">
                    <span class="binary-title">PokerGFX-Server.exe</span>
                    <span class="file-count">2,242 files</span>
                </div>
                <div class="project-name">Internal project name: VPT (Video Poker Tournament)</div>

                <div class="key-files">
                    <h3>Key Files</h3>
                    <div class="file-item">
                        <div>
                            <span class="file-name">gfx.cs</span>
                            <span class="file-desc">(Graphics Manager)</span>
                        </div>
                        <span class="file-loc">8,121 LOC</span>
                    </div>
                    <div class="file-item">
                        <div>
                            <span class="file-name">Tags.cs</span>
                            <span class="file-desc">(RFID Core)</span>
                        </div>
                        <span class="file-loc">7,000+ LOC</span>
                    </div>
                    <div class="file-item">
                        <div>
                            <span class="file-name">PlayerElement.cs</span>
                        </div>
                        <span class="file-loc">6,605 LOC</span>
                    </div>
                    <div class="file-item">
                        <div>
                            <span class="file-name">GraphicElement.cs</span>
                            <span class="file-desc">(Abstract Base)</span>
                        </div>
                        <span class="file-loc">4,947 LOC</span>
                    </div>
                    <div class="file-item">
                        <div>
                            <span class="file-name">BoardElement.cs</span>
                        </div>
                        <span class="file-loc">2,904 LOC</span>
                    </div>
                    <div class="file-item">
                        <div>
                            <span class="file-name">render.cs</span>
                        </div>
                        <span class="file-loc">2,474 LOC</span>
                    </div>
                    <div class="file-item">
                        <div>
                            <span class="file-name">atem.cs</span>
                            <span class="file-desc">(ATEM Integration)</span>
                        </div>
                        <span class="file-loc">~2,300 LOC</span>
                    </div>
                    <div class="file-item">
                        <div>
                            <span class="file-name">GameCardsService.cs</span>
                        </div>
                        <span class="file-loc">2,033 LOC</span>
                    </div>
                </div>

                <div class="namespaces">
                    <h3>Namespaces</h3>
                    <div class="namespace-list">
                        vpt_server, vpt_server.Enums, vpt_server.Services,<br>
                        vpt_server.GameTypes, vpt_server.wcf,<br>
                        vpt_server.Features.Common.Licensing
                    </div>
                </div>

                <div style="margin-top: 12px;">
                    <span class="obfuscation">Heavy Obfuscation (ConfuserEx)</span>
                </div>
            </div>

            <!-- ActionTracker Binary -->
            <div class="binary-box tracker">
                <div class="binary-header">
                    <span class="binary-title">ActionTracker.exe</span>
                    <span class="file-count">576 files</span>
                </div>
                <div class="role">Broadcast control client (NOT graphics generator)</div>

                <div class="key-files">
                    <h3>Key Files</h3>
                    <div class="file-item">
                        <div>
                            <span class="file-name">core.cs</span>
                            <span class="file-desc">(Business Logic)</span>
                        </div>
                        <span class="file-loc">25,643 LOC</span>
                    </div>
                    <div class="file-item">
                        <div>
                            <span class="file-name">ClientNetworkService.cs</span>
                        </div>
                        <span class="file-loc">~6,400 LOC</span>
                    </div>
                    <div class="file-item">
                        <div>
                            <span class="file-name">comm.cs</span>
                        </div>
                        <span class="file-loc">3,821 LOC</span>
                    </div>
                    <div class="file-item">
                        <div>
                            <span class="file-name">director_win.cs</span>
                        </div>
                        <span class="file-loc">2,344 LOC</span>
                    </div>
                    <div class="file-item">
                        <div>
                            <span class="file-name">payout_win.cs</span>
                        </div>
                        <span class="file-loc">1,389 LOC</span>
                    </div>
                    <div class="file-item">
                        <div>
                            <span class="file-name">Window1.cs</span>
                        </div>
                        <span class="file-loc">1,356 LOC</span>
                    </div>
                </div>

                <div class="framework">Framework: WPF with touch_form custom UI</div>
                <div style="margin-top: 12px;">
                    <span class="obfuscation">Partial Obfuscation</span>
                </div>
            </div>

            <!-- Common.dll -->
            <div class="binary-box common">
                <div class="binary-header">
                    <span class="binary-title">Common.dll</span>
                    <span class="file-count">48 files</span>
                </div>
                <div class="role">Shared between Server and ActionTracker</div>

                <div class="namespaces">
                    <h3>Namespaces (Clean)</h3>
                    <div class="namespace-list">
                        PokerGFX.Common.Features.AppVersion<br>
                        PokerGFX.Common.Features.Licensing<br>
                        PokerGFX.Common.Features.Dongle<br>
                        PokerGFX.Common.Features.Network
                    </div>
                </div>

                <div style="margin-top: 12px;">
                    <span class="obfuscation clean">No Obfuscation</span>
                </div>
            </div>

            <!-- GFXUpdater -->
            <div class="binary-box updater">
                <div class="binary-header">
                    <span class="binary-title">GFXUpdater.exe</span>
                    <span class="file-count">11 files</span>
                </div>
                <div class="role">Auto-update mechanism</div>

                <div style="margin-top: 16px;">
                    <span class="obfuscation clean">Clean Code</span>
                </div>
            </div>
        </div>

        <!-- Connections -->
        <div class="connections">
            <h2>시스템 연결</h2>
            <div class="connection-grid">
                <div class="connection-item">
                    <span>Server</span>
                    <span class="arrow">↔</span>
                    <span>ActionTracker</span>
                    <div class="connection-desc" style="margin-left: 8px;">(Custom TCP + WCF NetTcp)</div>
                </div>
                <div class="connection-item">
                    <span>Server</span>
                    <span class="arrow">↔</span>
                    <span>Common.dll</span>
                    <div class="connection-desc" style="margin-left: 8px;">(Shared Library)</div>
                </div>
                <div class="connection-item">
                    <span>ActionTracker</span>
                    <span class="arrow">↔</span>
                    <span>Common.dll</span>
                    <div class="connection-desc" style="margin-left: 8px;">(Shared Library)</div>
                </div>
                <div class="connection-item">
                    <span>Server</span>
                    <span class="arrow">→</span>
                    <span>RFID Reader</span>
                    <div class="connection-desc" style="margin-left: 8px;">(USB/WiFi RFIDv2)</div>
                </div>
                <div class="connection-item">
                    <span>Server</span>
                    <span class="arrow">→</span>
                    <span>ATEM</span>
                    <div class="connection-desc" style="margin-left: 8px;">(COM Interop)</div>
                </div>
                <div class="connection-item">
                    <span>GFXUpdater</span>
                    <span class="arrow">→</span>
                    <span>Server</span>
                    <div class="connection-desc" style="margin-left: 8px;">(Update Check)</div>
                </div>
            </div>
        </div>

        <!-- Summary Stats -->
        <div class="summary">
            <h2>분석 통계</h2>
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-value">2,877</div>
                    <div class="stat-label">Total C# Files</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">~60%</div>
                    <div class="stat-label">Obfuscated</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">v3.71.0.0</div>
                    <div class="stat-label">Version</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">.NET 4.7+</div>
                    <div class="stat-label">Target Framework</div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
