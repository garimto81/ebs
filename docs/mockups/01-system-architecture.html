<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1280, initial-scale=1.0">
    <title>EBS System Architecture - Stage 0</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: system-ui, -apple-system, sans-serif;
            background: #FFF;
            color: #000;
            width: 1280px;
            min-height: 900px;
            padding: 60px;
            position: relative;
        }

        .container {
            width: 100%;
            height: 100%;
            display: flex;
            gap: 100px;
            align-items: center;
            position: relative;
        }

        /* Subsystem Boundaries */
        .subsystem {
            flex: 1;
            height: 600px;
            border: 3px dashed #666;
            padding: 40px 30px;
            position: relative;
            background: #FFF;
        }

        .subsystem-header {
            position: absolute;
            top: -16px;
            left: 30px;
            background: #FFF;
            padding: 0 12px;
            font-size: 18px;
            font-weight: 700;
            color: #333;
            letter-spacing: -0.5px;
        }

        /* Component Boxes */
        .component {
            background: #FFF;
            border: 3px solid #000;
            padding: 24px 32px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 6px 6px 0 #CCC;
            position: relative;
        }

        .component-title {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 8px;
            color: #000;
        }

        .component-subtitle {
            font-size: 14px;
            color: #666;
            font-weight: 400;
        }

        /* Connection Labels */
        .connection {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 30px;
            margin: 20px 0;
            position: relative;
        }

        .connection::before {
            content: '';
            position: absolute;
            width: 2px;
            height: 100%;
            background: #000;
            left: 50%;
            transform: translateX(-1px);
        }

        .connection::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-top: 12px solid #000;
        }

        .connection-label {
            background: #FFF;
            padding: 4px 12px;
            font-size: 13px;
            color: #333;
            font-weight: 600;
            position: relative;
            z-index: 1;
            border: 1px solid #999;
        }

        /* Horizontal Arrow between subsystems */
        .bridge-arrow {
            position: absolute;
            top: 50%;
            left: calc(50% - 50px);
            width: 100px;
            height: 3px;
            background: #000;
            transform: translateY(-50%);
        }

        .bridge-arrow::after {
            content: '';
            position: absolute;
            right: -12px;
            top: 50%;
            transform: translateY(-50%);
            width: 0;
            height: 0;
            border-top: 10px solid transparent;
            border-bottom: 10px solid transparent;
            border-left: 16px solid #000;
        }

        .bridge-label {
            position: absolute;
            top: calc(50% - 40px);
            left: 50%;
            transform: translateX(-50%);
            background: #FFF;
            padding: 6px 16px;
            font-size: 14px;
            font-weight: 600;
            color: #000;
            border: 2px solid #000;
            white-space: nowrap;
        }

        /* Software Layer Specific */
        .software-layer {
            display: flex;
            flex-direction: column;
            justify-content: center;
            height: 100%;
        }

        .websocket-flow {
            display: flex;
            align-items: center;
            gap: 20px;
            margin: 30px 0;
        }

        .websocket-arrow {
            flex: 1;
            height: 3px;
            background: #000;
            position: relative;
        }

        .websocket-arrow::after {
            content: '';
            position: absolute;
            right: -12px;
            top: 50%;
            transform: translateY(-50%);
            width: 0;
            height: 0;
            border-top: 10px solid transparent;
            border-bottom: 10px solid transparent;
            border-left: 16px solid #000;
        }

        .websocket-label {
            position: absolute;
            top: -24px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 13px;
            font-weight: 600;
            color: #333;
            background: #FFF;
            padding: 2px 8px;
            white-space: nowrap;
        }

        /* Footer */
        .footer {
            position: absolute;
            bottom: 20px;
            left: 60px;
            right: 60px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 20px;
            border-top: 2px solid #CCC;
        }

        .footer-title {
            font-size: 16px;
            font-weight: 700;
            color: #000;
        }

        .footer-subtitle {
            font-size: 14px;
            color: #666;
            font-weight: 400;
        }

        /* Latency Badge */
        .latency-badge {
            position: absolute;
            top: 20px;
            right: 60px;
            background: #000;
            color: #FFF;
            padding: 10px 20px;
            font-size: 15px;
            font-weight: 700;
            letter-spacing: 0.5px;
        }
    </style>
</head>
<body>
    <div class="latency-badge">TARGET: &lt; 200ms E2E</div>

    <div class="container">
        <!-- Hardware Subsystem -->
        <div class="subsystem">
            <div class="subsystem-header">Hardware Subsystem</div>

            <div class="component">
                <div class="component-title">RFID Card</div>
                <div class="component-subtitle">13.56MHz Passive Tag</div>
            </div>

            <div class="connection">
                <div class="connection-label">13.56MHz RF</div>
            </div>

            <div class="component">
                <div class="component-title">MFRC522</div>
                <div class="component-subtitle">RFID Reader Module</div>
            </div>

            <div class="connection">
                <div class="connection-label">SPI Protocol</div>
            </div>

            <div class="component">
                <div class="component-title">ESP32</div>
                <div class="component-subtitle">Microcontroller Unit</div>
            </div>

            <div class="connection">
                <div class="connection-label">USB Serial</div>
            </div>

            <div class="component">
                <div class="component-title">PC</div>
                <div class="component-subtitle">Host Computer</div>
            </div>
        </div>

        <!-- Bridge Arrow -->
        <div class="bridge-arrow"></div>
        <div class="bridge-label">Serial JSON</div>

        <!-- Software Subsystem -->
        <div class="subsystem">
            <div class="subsystem-header">Software Subsystem</div>

            <div class="software-layer">
                <div class="component">
                    <div class="component-title">Python Server</div>
                    <div class="component-subtitle">FastAPI + Serial + DB</div>
                </div>

                <div class="websocket-flow">
                    <div class="websocket-arrow">
                        <div class="websocket-label">WebSocket</div>
                    </div>
                </div>

                <div class="component">
                    <div class="component-title">React Frontend</div>
                    <div class="component-subtitle">Real-time UI + OBS Overlay</div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        <div>
            <div class="footer-title">EBS Stage 0 - System Architecture</div>
            <div class="footer-subtitle">RFID 연결 검증 단계</div>
        </div>
        <div class="footer-subtitle">Event Broadcasting System v0.1</div>
    </div>
</body>
</html>
